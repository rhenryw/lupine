<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LupineDiagnostics</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, sans-serif;
      background: #fff;
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      margin: 0;
    }
    h1 {
      font-size: 2.2rem;
      margin-bottom: 25px;
      color: #222;
    }
    .status-container {
      width: 100%;
      max-width: 700px;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .check-item {
      border: 2px solid #ccc;
      border-radius: 8px;
      padding: 15px;
      display: flex;
      flex-direction: column;
      background: #f9f9f9;
      transition: border-color 0.3s, background 0.3s;
    }
    .check-item .url {
      font-weight: bold;
      margin-bottom: 8px;
      word-break: break-word;
    }
    .status {
      font-weight: bold;
      padding: 8px 10px;
      border-radius: 6px;
      display: inline-block;
      margin-bottom: 6px;
    }
    .checking {
      background: #eee;
      color: #555;
    }
    .up {
      background: #d4edda;
      color: #155724;
      border: 1px solid #155724;
    }
    .redirect {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #856404;
    }
    .down {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #721c24;
    }
    .error {
      font-size: 0.85rem;
      color: #555;
      margin-top: 5px;
      font-family: monospace;
      white-space: pre-wrap;
    }
    footer {
      margin-top: 30px;
      font-size: 0.9rem;
      color: #777;
    }
  </style>
</head>
<body>
  <h1>üîç Lupine Diagnostics</h1>
  <div class="status-container" id="statusContainer"></div>
  <footer>¬© 2025 Lupine Diagnostics</footer>

  <script>
    const urls = [
      "https://getcommit.rhenrywarren.workers.dev/",
      "https://embeddr.rhw.one",
      "https://gamedistribution.com/",
      "https://gamedistro.rhenrywarren.workers.dev/"
    ];

    const container = document.getElementById("statusContainer");

    urls.forEach(url => {
      const item = document.createElement("div");
      item.className = "check-item";
      item.innerHTML = `
        <div class="url">${url}</div>
        <div class="status checking">CHECKING...</div>
        <div class="error"></div>
      `;
      container.appendChild(item);

      const statusBox = item.querySelector(".status");
      const errorBox = item.querySelector(".error");

      fetch(url, { redirect: "follow" })
        .then(response => {
          if (response.redirected) {
            statusBox.className = "status redirect";
            statusBox.textContent = "‚ö†Ô∏è Redirected";
            errorBox.textContent = `Redirected to: ${response.url}`;
          } else if (response.ok || response.type === "opaque") {
            statusBox.className = "status up";
            statusBox.textContent = "‚úÖ Accessible";
          } else {
            statusBox.className = "status down";
            statusBox.textContent = "‚ùå Down/Blocked";
            errorBox.textContent = `Status: ${response.status} ${response.statusText}`;
          }
        })
        .catch(err => {
          statusBox.className = "status down";
          statusBox.textContent = "‚ùå Down/Blocked";
          errorBox.textContent = `Error: ${err.message}`;
        });

      setTimeout(() => {
        if (statusBox.classList.contains("checking")) {
          statusBox.className = "status down";
          statusBox.textContent = "‚ùå Unresponsive (Timeout)";
          errorBox.textContent = "Error: Request timed out after 5s";
        }
      }, 5000);
    });
  </script>
</body>
</html>
